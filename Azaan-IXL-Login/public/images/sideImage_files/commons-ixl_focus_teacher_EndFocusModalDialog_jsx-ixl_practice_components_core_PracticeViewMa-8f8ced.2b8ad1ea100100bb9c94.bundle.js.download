(globalThis.webpackChunkixl_webpack=globalThis.webpackChunkixl_webpack||[]).push([["commons-ixl_focus_teacher_EndFocusModalDialog_jsx-ixl_practice_components_core_PracticeViewMa-8f8ced"],{647275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(406042),o=n(745247),i=n.n(o),a=n(380742),c=(n(913867),n(124482)),s=n(564396),u=n(839583),l=n.n(u);const d={onCancelOrDismiss:i().func.isRequired,onApproval:i().func.isRequired};function p(e){let{onCancelOrDismiss:t,onApproval:n}=e;const{getI18nMessage:o}=(0,a.Cq)(),i=(0,r.useRef)(null),u=()=>{document.body.classList.remove("no-scroll")},d=()=>{t(),u()};return(0,s.Z)(document,"click",(e=>{i.current&&!i.current.contains(e.target)&&d()}),{capture:!0}),(0,s.Z)(document,"keydown",(e=>{e.key===c.R8.ESCAPE.key&&d()})),r.createElement("div",{className:"end-focus-modal-overlay"},r.createElement("div",{className:"end-focus-modal-box",ref:i},r.createElement("div",{className:"end-focus-modal-message-box"},r.createElement("div",{className:"end-focus-modal-message-icon"},r.createElement("img",{src:l(),alt:"",onClick:d})),r.createElement("div",{className:"end-focus-modal-header"},o("dialog.header")),r.createElement("div",{className:"end-focus-modal-message"},o("dialog.body"))),r.createElement("div",{className:"end-focus-modal-footer"},r.createElement("button",{className:"end-focus-modal-cancel",onClick:d},o("dialog.cancel")),r.createElement("button",{className:"end-focus-modal-continue",onClick:()=>{n(),u()}},o("dialog.ok")))))}p.propTypes=d,p.displayName="EndFocusModalDialog";const f=p},865143:(e,t,n)=>{"use strict";n.d(t,{b:()=>s,i:()=>p}),n(868535),n(963452),n(890140);var r=n(406042),o=n(745247),i=n.n(o),a=n(210977);const c="ANY",s={PRACTICE:{id:"practice",isRootWhenActive:!0},COUNTDOWN_POPOVER:{id:"countdownPopover"},CORRECT_CHECKMARK:{id:"correctCheckmark"},CUSTOM_SMART_SCORE_GOAL_REACHED:{id:"customSmartScoreGoalReached",isRootWhenActive:!0},CORRECT_ANSWER_EXPLANATION:{id:"correctAnswerExplanation",isRootWhenActive:!0},SKILL_JUMP_STEP_POPOVER:{id:"skillJumpStepPopover"},FEEDBACK:{id:"feedback",isRootWhenActive:!0},EXAMPLE:{id:"example",isRootWhenActive:!0},REFERENCE:{id:"reference",isRootWhenActive:!0}};Object.freeze(s);const u={[s.CORRECT_CHECKMARK.id]:[{from:c,to:s.CORRECT_CHECKMARK,className:"practice-item-display-fade-in",useTransitionCallback:!0},{from:s.CORRECT_CHECKMARK,to:s.CORRECT_ANSWER_EXPLANATION,className:"practice-item-hide-top-corner",useTransitionCallback:!1},{from:s.CORRECT_CHECKMARK,to:c,className:"practice-item-hidden-fade-out",useTransitionCallback:!1}],[s.SKILL_JUMP_STEP_POPOVER.id]:[{from:c,to:s.SKILL_JUMP_STEP_POPOVER,className:"practice-item-display-fade-in",useTransitionCallback:!0},{from:s.SKILL_JUMP_STEP_POPOVER,to:c,className:"practice-item-hidden-fade-out",useTransitionCallback:!1}],[s.CORRECT_ANSWER_EXPLANATION.id]:[{from:s.CORRECT_CHECKMARK,to:s.CORRECT_ANSWER_EXPLANATION,className:"practice-item-corner-expand",useTransitionCallback:!1},{from:c,to:s.CORRECT_CHECKMARK,className:"practice-item-corner-shrink",useTransitionCallback:!1}]};function l(e){return(e.from!==c)+(e.to!==c)}Object.freeze(u);const d={currentView:i().oneOf(Object.values(s)).isRequired,children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired,rootView:i().oneOf(Object.values(s)).isRequired};class p extends r.Component{constructor(e){super(e),this.state={currentView:e.currentView,previousView:s.PRACTICE}}static getDerivedStateFromProps(e,t){return e.currentView!==t.currentView?{previousView:t.currentView,currentView:e.currentView}:null}render(){const{previousView:e,currentView:t}=this.state,n=r.Children.map(this.props.children,(n=>function(e,t,n,o){const i=e.props.associatedView,a=function(e,t,n){const r=u[e.id];if(r){const e=r.filter((e=>!(e.from!==t&&e.from!==c||e.to!==n&&e.to!==c)));if(e.sort(((e,t)=>l(t)-l(e))),e.length>0)return e[0]}return e!==n?{className:"practice-item-hidden",useTransitionCallback:!1}:{className:"practice-item-display",useTransitionCallback:!1}}(i,t,n),s=e.props.transitionCompleteCallback,d=n===i&&i.isRootWhenActive||!n.isRootWhenActive&&i===o?`practice-item-root ${a.className}`:`practice-item ${a.className}`;if(a.useTransitionCallback&&s){const o=function(e,t,n){return r=>n(e,t,r)}(t,n,s);return r.createElement("div",{className:d,onTransitionEnd:o},e)}return r.createElement("div",{className:d},e)}(n,e,t,this.props.rootView))),o=(0,a.WM)("practice-views-root",{"root-without-stats":t===s.REFERENCE});return r.createElement("div",{className:o},n)}}p.propTypes=d,p.displayName="PracticeViewManager"},991756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(879586);var r=n(406042),o=n(208470),i=n(334571),a=n(738332),c=n(334258);const s=n(602078),u=["q-Q","q-DOMAttachAware","q-DOMAfterAttached","q-AudioUtils","q-DelayedRendering","practice-FillInNavigationControllerBridge","practice-AudioManagerInitializerUtils","practice-AudioManager","q-css","practice-FeedbackAudio","practice-QuestionWidget","practice-css-audio"],l=e=>{const t=[],n=[e];for(;n.length>0;){const e=n.pop();e&&(Array.isArray(e)?n.push(...e):("function"==typeof e.getAttrs&&n.push(...Object.values(e.getAttrs())),"object"==typeof e.__origCfg__&&n.push(...Object.values(e.__origCfg__)),"function"==typeof e.destroy&&t.push(e)))}for(;t.length>0;)t.pop().destroy()},d=1500;function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,{componentRefOverride:f}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{componentRefOverride:null};const m=(0,r.useRef)(t),E=(0,r.useRef)(n),C=function(e){const t=(0,r.useRef)(null);return e||t}(f),R=(0,r.useContext)(o.Z),{ravenLanguage:g,translationMode:h,isFeedbackSubComponent:v,correctAnswerText:A,isAudioEnabled:O,correctAnswerHeaderText:_}=p||{};(0,r.useEffect)((()=>{m.current=t}),[t]),(0,r.useEffect)((()=>{E.current=n}),[n]);const N=(0,r.useRef)(null),T=(0,r.useRef)(null),[b,w]=(0,r.useState)(null),y=(0,r.useContext)(i.Dq);return(0,r.useEffect)((()=>{if(null===y)throw new Error("Missing an audio module provider. See AudioModuleContext for available providers");if(e&&N.current){let t=null,n=null,r=!1;const o=u.concat(y);return R.use(o,(o=>{o.IXL.revive(e,(i=>{const u=i.get("context");u.ravenLanguage=g,u.translationMode=h,t=i,C.current=i,n=o.one(N.current),void 0===o.IXL.FillInNavigationControllerBridge.fillIns&&o.IXL.FillInNavigationControllerBridge.initialize({});let l=null;if(v){try{o.IXL.AudioUtils.addFeedbackSubcomponents(i)}catch(e){l=e.message}if(!l){const e=o.IXL.AudioUtils.isOld(i)&&!u.hasAudioSubcomponents?A:o.IXL.AudioUtils.getAnswerAudioText(i),t=Array.from(document.querySelectorAll(".feedback-view .answer-header .practice-audio-button")).pop();o.IXL.updateFeedbackAudioButton&&o.IXL.updateFeedbackAudioButton(t,u,e,O,_)}}else if(u.audioSystemNumber===s.OriginalAudioSolution)try{o.IXL.AudioUtils.addAudio(i)}catch(e){l=e.message}if(l){let e;i.get("content")&&(e=i.get("content").get("generatorCode")),(0,c.logError)({errorMsg:`Error adding audio ${l}. Generator Code: ${e||"Unknown"}`,fileName:"frontend/ixl/practice/util/UseYUIPracticeComponent.jsx"})}i.drawAsync(n,(()=>{(0,a.iC)(R),u&&(o.IXL.DOMAttachAware.attached(u),o.IXL.DOMAfterAttached.register(u,n));const t=()=>{r||w(e)};o.IXL.DelayedRendering.whenReady(u).then(t),T.current=setTimeout(t,d),m.current&&m.current(i)}))}))})),()=>{t&&(l(t),t.destructor(),(0,a.iC)(R)),n&&(n._node.innerHTML=""),T.current&&(clearTimeout(T.current),T.current=null),E.current&&E.current(),w(null),C.current=null,r=!0}}}),[e,g,h,v,A,O,_,R,C,y]),[N,!e||b===e,C]}},334571:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>s,nd:()=>u,Dq:()=>c,Y_:()=>l});var r=n(406042),o=n(745247);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const a={children:n.n(o)().node.isRequired},c=(0,r.createContext)(null);function s(e){let{children:t}=e;return r.createElement(c.Provider,{value:["practice-PracticeAudioBackends"]},t)}function u(e){let{children:t}=e;return r.createElement(c.Provider,{value:["q-mobile-MobileAudioBackends"]},t)}function l(e){return t=>r.createElement(c.Consumer,null,(n=>r.createElement(e,i({},t,{audioModules:n}))))}s.propTypes=a,u.propTypes=a},738332:(e,t,n)=>{"use strict";n.d(t,{Uz:()=>c,Bu:()=>s,cA:()=>u,P7:()=>l,iC:()=>d});var r=n(406042),o=n(208470),i=n(334571);const a=["practice-AudioManagerInitializer","practice-AudioManager","practice-AudioButtonDelegate","widget","widget-parent"];function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.PROD_YUI;const o=a.concat(t);r.use(o,(t=>{const r=new(t.Base.create("audioButtonDelegateInstance",t.Widget,[t.WidgetParent,t.IXL.AudioButtonDelegate,t.IXL.AudioManagerInitializer],{}))({contentBox:t.one(e)});n&&n(r)}))}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,r.useRef)(null),a=(0,r.useContext)(o.Z),s=(0,r.useContext)(i.Dq);(0,r.useEffect)((()=>(c(e,s,(e=>{n.current=e,t&&t(e)}),a),()=>{n.current&&n.current.destroy(),n.current=null})),[e,a,s,t])}function u(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.PROD_YUI).use(a,(e=>{e.fire(e.IXL.IncompleteAnswerPopoverEvent.CLOSE)}))}function l(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.PROD_YUI).use(a,(e=>{e.fire(e.IXL.RavenTranslationButton.RAVEN_TRANSLATION_EVENTS.TRANSLATION_POPOVER_STOP_AUDIO)}))}function d(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.PROD_YUI).use(a,(e=>{e.fire(e.IXL.REACT_WIDGET_CONTENT_UPDATE_EVENT)}))}},9724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(406042),o=n(745247),i=n.n(o),a=n(334258),c=n(547397);const s={fallbackElement:i().element,fileName:i().string.isRequired,onComponentDidCatch:i().func,children:i().node.isRequired},u={onComponentDidCatch:c.Z,fallbackElement:r.createElement(r.Fragment,null)};class l extends r.Component{static getDerivedStateFromError(e){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){const{fileName:n,onComponentDidCatch:r}=this.props;r(e,t),(0,a.logError)({errorMsg:e.message||e.description,fileName:n,stack:t.componentStack})}render(){const{hasError:e}=this.state,{fallbackElement:t,children:n}=this.props;return e?t:r.createElement(r.Fragment,null,n)}}l.propTypes=s,l.defaultProps=u,l.displayName="ErrorBoundary";const d=l},678714:(e,t,n)=>{"use strict";n.d(t,{yx:()=>i,dX:()=>a,h5:()=>c,mf:()=>s,UO:()=>l,dU:()=>d});var r=n(745247),o=n.n(r);const i={SIMPLE:"SIMPLE",ROUNDED:"ROUNDED"},a=o().oneOf(Object.values(i)),c=(e,t,n)=>{const{[t]:r}=e;if(e.variation===i.ROUNDED&&r)return new Error(`The prop '${t}' supplied to '${n}' cannot be true if the variation is '${i.ROUNDED}'`);o().checkPropTypes({hasHoverStyle:o().bool},{hasHoverStyle:r})},s={THIN:"THIN",MEDIUM:"MEDIUM",THICK:"THICK"},u={[s.THIN]:"1px",[s.MEDIUM]:"2px",[s.THICK]:"3px"},l=o().oneOf(Object.values(s)),d=e=>{if(!u[e])throw new Error(`${e} is not a valid arrowStrokeWidth enum`);return u[e]}},260415:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r={NOT_ANSWERED:"NOT_ANSWERED",ANSWERED:"ANSWERED",CORRECT:"CORRECT",INCORRECT:"INCORRECT",hasAnswered:e=>e&&e!==r.NOT_ANSWERED,hasNotAnswered:e=>null===e||e===r.NOT_ANSWERED,answeredCorrectly:e=>e===r.CORRECT,answeredIncorrectly:e=>e===r.INCORRECT}},208470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=n(406042).createContext(window.PROD_YUI);r.displayName="YUIContext";const o=r},651647:e=>{var t={},n=(String.prototype,Object.prototype.toString),r={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},o=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g;t.isArray=function(e){return"array"===t.type(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isDate=function(e){return"date"===t.type(e)&&"Invalid Date"!==e.toString()&&!isNaN(e)},t.isFunction=function(e){return"function"===t.type(e)},t.isNull=function(e){return null===e},t.isNumber=function(e){return"number"==typeof e&&isFinite(e)},t.isObject=function(e,n){var r=typeof e;return e&&("object"===r||!n&&("function"===r||t.isFunction(e)))||!1},t.isRegExp=function(e){return"regexp"===t.type(e)},t.isString=function(e){return"string"==typeof e},t.isUndefined=function(e){return void 0===e},t.isValue=function(e){var n=t.type(e);switch(n){case"number":return isFinite(e);case"null":case"undefined":return!1;default:return!!n}},t.now=Date.now||function(){return(new Date).getTime()},t.type=function(e){return r[typeof e]||r[n.call(e)]||(e?"object":"null")},t.sub=function(e,t){function n(e,t){var r;return void 0!==e[t]?e[t]:(r=(t=t.split(".")).slice(1).join("."),t=t[0],r&&"object"==typeof e[t]&&null!==e[t]?n(e[t],r):void 0)}return e.replace?e.replace(o,((e,r)=>{var o=r.indexOf(".")>-1?n(t,r):t[r];return void 0===o?e:o})):e},e.exports=t},602078:e=>{e.exports={OriginalAudioSolution:0,QG3AudioSolution:1}},843012:(e,t,n)=>{var r=n(965568),o=n(651647),i={};function a(e){this._text=e}function c(e,t,n){if(!e.hasOwnProperty(t)){if(n){var r=window.YUI_config.lang;o=new ReferenceError("Could not locate the text resource: "+t+", in locale: "+r+"."),PROD_YUI&&PROD_YUI.IXL&&PROD_YUI.IXL.ErrorTracking?PROD_YUI.IXL.ErrorTracking.logError({errorMsg:o.message,fileName:"yui3/ixl/util-commonjs/Intl.js",stack:o.stack}):console.warn(o.message)}return!1}var o;return!0}a.prototype.getText=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!c(this._text,e,n))return e;t=t||{};var i=o.sub(this._text[e],t);return r.html(i)},a.prototype.getRaw=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return c(this._text,e,n)?(t=t||{},o.sub(this._text[e],t)):e},a.prototype.getTextForContext=function(e,t,n,i){var a=e+(t+"_")+n;return c(this._text,a,!1)?(i=i||{},r.html(o.sub(this._text[a],i))):this.getText(e,i)},a.prototype.getRawForContext=function(e,t,n,r){var i=e+(t+"_")+n;return c(this._text,i,!1)?(r=r||{},o.sub(this._text[i],r)):this.getRaw(e,r)},a.prototype.getRawWithParamsEscaped=function(e,t){if(!c(this._text,e,!0))return e;t=t||{};for(var n=Object.keys(t),i={},a=0;a<n.length;a++)i[n[a]]=r.html(t[n[a]]);return o.sub(this._text[e],i)},a.prototype.checkKey=function(e){return c(this._text,e,!1)},e.exports={addModule:function(e,t){i[e]=new a(t)},getModule:function(e){return i[e]}}},965568:e=>{var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},n={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,n._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return t[e]}};e.exports=n}}]);